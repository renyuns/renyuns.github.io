webpackJsonp([47],{"3cRx":function(t,e,s){var i=s("PXAt");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("89646a58",i,!1)},PXAt:function(t,e,s){e=t.exports=s("FZ+f")(!1),e.push([t.i,"\n.search[data-v-0953959b] {\n  font-size: 0.24rem;\n}\n.search .page-panel[data-v-0953959b] {\n  top: 1.1rem;\n}\n.search .page-panel.page-panel-yk[data-v-0953959b] {\n  top: 1.81rem;\n}\n.search .search-hot-history-wrapper[data-v-0953959b] {\n  position: relative;\n}\n.search .search-hot-history-wrapper[data-v-0953959b]:before {\n  content: '';\n  position: absolute;\n  width: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: 1px;\n  overflow: hidden;\n  z-index: 1;\n  background-color: #f3f3f3;\n  -webkit-background-size: 100% 1px;\n}\n.search .search-hot-history-wrapper .search-hot-history[data-v-0953959b] {\n  color: #41403e;\n  padding: 0.1rem 0.3rem;\n}\n.search .search-hot-history-wrapper .search-hot-history.search-hot[data-v-0953959b] {\n  position: relative;\n}\n.search .search-hot-history-wrapper .search-hot-history.search-hot[data-v-0953959b]:after {\n  content: '';\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 1px;\n  overflow: hidden;\n  z-index: 1;\n  background-color: #f3f3f3;\n  -webkit-background-size: 100% 1px;\n}\n.search .search-hot-history-wrapper .search-hot-history .search-hot-title[data-v-0953959b] {\n  padding: 0.3rem 0;\n  font-size: 0;\n  line-height: 0.32rem;\n  overflow: hidden;\n}\n.search .search-hot-history-wrapper .search-hot-history .search-hot-title span[data-v-0953959b],\n.search .search-hot-history-wrapper .search-hot-history .search-hot-title i[data-v-0953959b] {\n  font-size: 0.24rem;\n  vertical-align: middle;\n}\n.search .search-hot-history-wrapper .search-hot-history .search-hot-title span[data-v-0953959b] {\n  margin-left: 0.1rem;\n}\n.search .search-hot-history-wrapper .search-hot-history .search-hot-title span.history-delete-all-btn[data-v-0953959b] {\n  padding-left: 0.4rem;\n  height: 0.35rem;\n}\n.search .search-hot-history-wrapper .search-hot-history .search-hot-history-content[data-v-0953959b] {\n  font-size: 0;\n}\n.search .search-hot-history-wrapper .search-hot-history .search-hot-history-content .search-hot-history-item[data-v-0953959b] {\n  display: inline-block;\n  font-size: 0.26rem;\n  line-height: 0.36rem;\n  padding: 0.1rem 0.3rem;\n  margin-right: 0.2rem;\n  margin-bottom: 0.3rem;\n  border-radius: 0.56rem;\n  border: 0.02rem solid #c9c9c9;\n}\n.search .search-hot-history-wrapper .search-hot-history .search-hot-history-content .search-hot-history-item.search-history-item[data-v-0953959b] {\n  position: relative;\n  padding-right: 0.6rem;\n  max-width: 5.8rem;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.search .search-hot-history-wrapper .search-hot-history .search-hot-history-content .search-hot-history-item.search-history-item .history-delete-btn[data-v-0953959b] {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 0.6rem;\n  height: 0.56rem;\n  z-index: 1;\n}\n.search .search-hot-history-wrapper .search-hot-history .search-hot-history-content .search-hot-history-item.search-history-item .history-delete-btn i[data-v-0953959b] {\n  position: absolute;\n  left: 0.1rem;\n  top: 0.18rem;\n}\n.search .search-hot-history-wrapper .search-hot-history .search-hot-history-empty[data-v-0953959b] {\n  padding: 0.4rem;\n  font-size: 0.24rem;\n  color: #a7a5a3;\n  text-align: center;\n}\n.search .exact-matching[data-v-0953959b] {\n  position: relative;\n}\n.search .exact-matching[data-v-0953959b]:before {\n  content: '';\n  position: absolute;\n  width: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: 1px;\n  overflow: hidden;\n  z-index: 1;\n  background-color: #f3f3f3;\n  -webkit-background-size: 100% 1px;\n}\n.search .exact-matching.borderbottom[data-v-0953959b] {\n  border-bottom: 0.1rem solid #f6f6f6;\n}\n.search .no-matching[data-v-0953959b] {\n  padding: 0.2rem 0.3rem;\n  font-size: 0;\n  position: relative;\n  position: relative;\n}\n.search .no-matching[data-v-0953959b]:before {\n  content: '';\n  position: absolute;\n  width: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: 1px;\n  overflow: hidden;\n  z-index: 1;\n  background-color: #f3f3f3;\n  -webkit-background-size: 100% 1px;\n}\n.search .no-matching[data-v-0953959b]:after {\n  content: '';\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 1px;\n  overflow: hidden;\n  z-index: 1;\n  background-color: #f3f3f3;\n  -webkit-background-size: 100% 1px;\n}\n.search .no-matching span[data-v-0953959b],\n.search .no-matching i[data-v-0953959b] {\n  display: inline-block;\n  vertical-align: middle;\n}\n.search .no-matching span[data-v-0953959b] {\n  font-size: 0.24rem;\n  color: #202020;\n  margin-left: 0.22rem;\n}\n.search .empty-result[data-v-0953959b] {\n  padding-top: 0.08rem;\n  text-align: center;\n  font-size: 0.32rem;\n  color: #202020;\n}\n.search-list-header[data-v-0953959b] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 100;\n  width: 100%;\n}\n",""])},j642:function(t,e,s){"use strict";function i(t){n||s("3cRx")}Object.defineProperty(e,"__esModule",{value:!0});var a=s("ydlf"),r=s("snBL"),n=!1,o=s("VU/8"),h=i,c=o(a.a,r.a,h,"data-v-0953959b",null);c.options.__file="src\\pages\\minisite\\search\\search-list.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)}),c.options.functional,e.default=c.exports},snBL:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search full-screen"},[s("div",{staticClass:"page-panel",class:{"page-panel-yk":t.auth&&-1===["cy","tz"].indexOf(t.auth.type)}},[s("pem-scroll-view",{ref:"scroll",staticClass:"scroll-view",attrs:{data:t.listenList,pullup:!0,pulldown:!0},on:{pullUpLoad:t.listMore,pullDownRefresh:t.listRefresh}},[s("div",[s("div",{staticClass:"scroll-view-pulldown"},[t._v("下拉刷新...")]),t._v(" "),t.exactFlag?s("div",{staticClass:"exact-matching",class:{borderbottom:"project"===t.tabtype&&t.projectList.length>0||"investor"===t.tabtype&&t.investorList.length>0}},[s("pem-project-list",{directives:[{name:"show",rawName:"v-show",value:"project"===t.tabtype&&t.auth&&"cy"!==t.auth.type,expression:"tabtype === 'project' && auth && auth.type !== 'cy'"}],attrs:{data:t.exactList,isCy:t.isCy},on:{alert:t.alert}}),t._v(" "),s("pem-investor-list",{directives:[{name:"show",rawName:"v-show",value:"investor"===t.tabtype&&t.auth&&"tz"!==t.auth.type,expression:"tabtype === 'investor' && auth && auth.type !== 'tz'"}],attrs:{data:t.exactList,isCy:t.isCy},on:{alert:t.alert}})],1):t._e(),t._v(" "),"project"===t.tabtype&&t.projectList.length>0||"investor"===t.tabtype&&t.investorList.length>0?s("div",{staticClass:"no-matching"},[s("pem-icon",{attrs:{name:"searchpage-recommend",width:"54",height:"50"}}),t._v(" "),s("span",[t._v(t._s(t.exactFlag?"":"暂未找到相关内容，")+"以下是为您推荐内容")])],1):t._e(),t._v(" "),s("pem-project-list",{directives:[{name:"show",rawName:"v-show",value:"project"===t.tabtype&&t.auth&&"cy"!==t.auth.type,expression:"tabtype === 'project' && auth && auth.type !== 'cy'"}],attrs:{data:t.projectList,isCy:t.isCy},on:{alert:t.alert}}),t._v(" "),s("pem-investor-list",{directives:[{name:"show",rawName:"v-show",value:"investor"===t.tabtype&&t.auth&&"tz"!==t.auth.type,expression:"tabtype === 'investor' && auth && auth.type !== 'tz'"}],attrs:{data:t.investorList,isCy:t.isCy},on:{alert:t.alert}}),t._v(" "),t.isLoading||t.exactFlag||!("project"===t.tabtype&&0===t.projectList.length||"investor"===t.tabtype&&0===t.investorList.length)?t._e():s("div",{staticClass:"empty-result"},[s("div",{staticClass:"empty-result-icon"},[s("pem-icon",{attrs:{name:"searchpage-empty",width:"356",height:"356"}})],1),t._v(" "),s("div",[t._v("暂未找到相关"+t._s("project"===t.tabtype?"项目":"投资人"))])]),t._v(" "),"project"===t.tabtype&&t.projectList.length>0||"investor"===t.tabtype&&t.investorList.length>0?s("div",{staticClass:"scroll-view-pullup"},[t._v(t._s(t.isMore?"加载中...":"目前就这么多了"))]):t._e()],1)])],1),t._v(" "),s("div",{staticClass:"search-list-header"},[s("pem-search",{attrs:{svalue:t.keywords,placeholder:t.searchplaceholder,width:"604"},on:{search:t.search,close:t.close}}),t._v(" "),t.auth&&["cy","tz"].indexOf(t.auth.type)>-1?t._e():s("pem-tabs",{attrs:{tabtype:t.tabtype,list:t.tabs,height:"84"},on:{switchTab:t.switchTab}})],1),t._v(" "),s("pem-loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),t._v(" "),s("pem-dialog",{ref:"alert",attrs:{text:t.alertText,confirmBtnText:t.alertBtnText,type:t.alertType},on:{confirm:t.alertCallback}}),t._v(" "),s("pem-operation-panel",{on:{backtotop:t.backtotop}})],1)},a=[];i._withStripped=!0;var r={render:i,staticRenderFns:a};e.a=r},ydlf:function(t,e,s){"use strict";var i=s("EYYg"),a=s("RhuS"),r=s("CviE"),n=s("8oHR"),o=s("ob7b"),h=s("pcLP"),c=s("ITA5"),l=s("Z9uS"),p=s("SOQt"),d=s("gyMJ"),g=s("NYxO"),y=s("sJ25"),u=s("gVJJ"),v=s("hhm8"),b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t};e.a={components:{PemOperationPanel:i.a,PemInvestorList:a.a,PemProjectList:r.a,PemScrollView:n.a,PemLoading:o.a,PemSearch:h.a,PemDialog:p.a,PemTabs:c.a,PemIcon:l.a},data:function(){return{searchplaceholder:"可输入项目或投资人关键词",exactFlag:!1,exactList:[],keywords:"",currentPage:1,pageSize:10,listenList:[],projectList:[],investorList:[],hotList:[],tabtype:"project",tabs:[{text:"融资项目",type:"project"},{text:"投资人",type:"investor"}],isInit:!0,alertText:"",alertType:"",alertBtnText:"",alertBtnCallback:null,isLoading:!1,isMore:!0,isCy:!1}},created:function(){var t=this;this._initWXShare(),this._setTitle("项目工场-搜索"),setTimeout(function(){t._initData()},20)},computed:s.i(g.b)({auth:function(t){return t.auth},searchList:function(t){return t.searchList}}),beforeDestroy:function(){if(this.searchList){var t=JSON.parse(JSON.stringify(this.searchList));t.keywords=this.keywords,t.y=this.$refs.scroll.scroll.y,this.SEARCH_LIST_UPDATE(t)}},methods:b({_initWXShare:function(){this.wxShare({title:"为您推荐项目工场",content:"我正在使用项目工场，有料的BP、有趣的VC都在这儿，一起来看项目吧！",linkUrl:window.location.origin})},_setTitle:function(t){s.i(v.b)(t)},_initData:function(){this.keywords=this.searchList&&this.searchList.keywords?this.searchList.keywords:this.$route.query.k||"",this.tabtype=this.searchList&&this.searchList.tabtype?this.searchList.tabtype:this.$route.query.tabtype||"project",this.auth&&"cy"===this.auth.type&&(this.tabtype="investor"),this.auth&&"tz"===this.auth.type?this.searchplaceholder="可输入项目关键词":this.auth&&"cy"===this.auth.type?this.searchplaceholder="可输入投资人关键词":this.searchplaceholder="可输入项目或投资人关键词",this.searchList&&this.searchList.hotList&&this.searchList.hotList.length>0?this.hotList=this.searchList.hotList:this.getHotwords(),this.isMore=!0,"project"===this.tabtype?this.getProjectList("init"):"investor"===this.tabtype&&this.getInvestorList("init")},backtotop:function(){this.$refs.scroll.scrollTo(0,0,300)},listMore:function(){!this.isLoading&&this.isMore&&("project"===this.tabtype?this.getProjectList("more"):"investor"===this.tabtype&&this.getInvestorList("more"))},listRefresh:function(){this.isLoading||(this.isMore=!0,this.listClear(),"project"===this.tabtype?this.getProjectList("init"):"investor"===this.tabtype&&this.getInvestorList("init"))},listClear:function(){var t=JSON.parse(JSON.stringify(this.searchList));t.tabtype=null,t.keywords=null,t.list=[],t.y=0,this.SEARCH_LIST_UPDATE(t)},search:function(t){t&&(this.keywords=t.trim(),this.isMore=!0,this.listClear(),this.$refs.scroll.scrollTo(0,0),"project"===this.tabtype?this.getProjectList("init"):"investor"===this.tabtype&&this.getInvestorList("init"))},close:function(){this.keywords="",this.$router.goBack()},switchTab:function(t){if(this.tabtype=t,this.exactList=[],this.keywords)switch(this.isMore=!0,t){case"project":this.investorList=[],this.getProjectList("init");break;case"investor":this.projectList=[],this.getInvestorList("init")}},alert:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.alertText=t,this.alertType=e.type||"alert",this.alertBtnText=e.btn||"确定",this.alertBtnCallback=e.callback||null,this.$refs.alert.show()},alertCallback:function(){this.alertBtnCallback&&this.alertBtnCallback()},getHotwords:function(){var t=this;this._getHotwords(function(e){1==+e.resultcode&&(t.hotList=(e.resultList||[]).map(function(t){return t.words}))})},getProjectList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init";return!!this.keywords&&(this.isLoading=!0,-1===this.hotList.indexOf(this.keywords)&&this.SEARCH_APPEND(this.keywords),"init"===e&&(this.currentPage=1),this.searchList&&this.searchList.list&&this.searchList.list.length>0&&this.searchList.keywords===this.keywords&&this.searchList.tabtype===this.tabtype&&"project"===this.searchList.tabtype&&this.currentPage<=this.searchList.currentPage?(this.isLoading=!1,this.currentPage=+this.searchList.currentPage+1,+this.searchList.totalPage<=+this.searchList.currentPage&&(this.isMore=!1),this.projectList=this.searchList.list,this.exactFlag=this.searchList.exactFlag,this.exactList=this.searchList.exactList,this.listenList=this.projectList,"init"===e&&setTimeout(function(){t.$refs.scroll.scrollTo(0,t.searchList.y||0)},21),!1):void this._getProjectList({currentPage:+this.currentPage,pageSize:+this.pageSize,keywords:this.keywords,tabtype:"100"},function(s){if(t.isInit=!1,t.isLoading=!1,1==+s.resultcode){t.currentPage=(+s.currentPage||1)+1,+s.totalPage<=+s.currentPage&&(t.isMore=!1);var i="init"===e?[]:t.projectList;i=i.concat(s.resultList||[]).map(function(t){return t.logo=d.a+(t.logo||"").replace(d.a,""),t.iconList&&(t.iconList=t.iconList.map(function(t){var e=t.imgurl;return t.imgurl=e?d.a+e.replace(d.a,""):null,t})),t}),"init"===e&&(t.exactFlag=s.exactFlag,s.exactFlag&&(t.exactList=i.splice(0,1)));var a=JSON.parse(JSON.stringify(t.searchList));a.list=i,a.keywords=t.keywords,a.tabtype=t.tabtype,a.exactFlag=t.exactFlag,a.exactList=t.exactList,a.currentPage=+s.currentPage,a.totalPage=+s.totalPage,a.y=t.$refs.scroll.scroll.y,t.SEARCH_LIST_UPDATE(a),t.projectList=i,t.listenList=t.projectList}}))},getInvestorList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init";return!!this.keywords&&(this.isLoading=!0,-1===this.hotList.indexOf(this.keywords)&&this.SEARCH_APPEND(this.keywords),"init"===e&&(this.currentPage=1),this.searchList&&this.searchList.list&&this.searchList.list.length>0&&this.searchList.keywords===this.keywords&&this.searchList.tabtype===this.tabtype&&"investor"===this.searchList.tabtype&&this.currentPage<=this.searchList.currentPage?(this.isLoading=!1,this.currentPage=+this.searchList.currentPage+1,+this.searchList.totalPage<=+this.searchList.currentPage&&(this.isMore=!1),this.investorList=this.searchList.list,this.exactFlag=this.searchList.exactFlag,this.exactList=this.searchList.exactList,this.listenList=this.investorList,setTimeout(function(){t.$refs.scroll.scrollTo(0,t.searchList.y||0)},21),!1):void this._getInvestorList({currentPage:+this.currentPage,pageSize:+this.pageSize,keywords:this.keywords,tabtype:"100"},function(s){if(t.isInit=!1,t.isLoading=!1,1==+s.resultcode){t.currentPage=+s.currentPage||1,t.totalPage=+s.totalPage,+s.totalPage<=+s.currentPage&&(t.isMore=!1),t.exactFlag=s.exactFlag;var i="init"===e?[]:t.investorList;i=i.concat(s.resultList||[]).map(function(t){if(t.logo&&-1===t.logo.indexOf("user_xcx/default_investor_img"))t.logo=d.a+t.logo.replace(d.a,"");else{var e=(t.zj||"1").toUpperCase(),s=e.charCodeAt(e.length-1)%20;t.logo="https://xmgc.pemarket.com.cn/user_xcx/default_investor_img"+s+".png"}return t}),"init"===e&&(t.exactFlag=s.exactFlag,s.exactFlag&&(t.exactList=i.splice(0,1)));var a=JSON.parse(JSON.stringify(t.searchList));a.list=i,a.keywords=t.keywords,a.tabtype=t.tabtype,a.exactFlag=t.exactFlag,a.exactList=t.exactList,a.currentPage=+s.currentPage,a.totalPage=+s.totalPage,a.y=t.$refs.scroll.scroll.y,t.SEARCH_LIST_UPDATE(a),t.investorList=i,t.listenList=t.investorList}}))},_getProjectList:function(t,e){d.b.projectList(t).then(function(t){e(t)})},_getInvestorList:function(t,e){d.b.getInvestorList(t).then(function(t){e(t)})},_getHotwords:function(t){d.b.getHotwords().then(function(e){t(e)})}},s.i(g.c)([u.b,u.c,y.b,y.c]))}}});
//# sourceMappingURL=47.f222538217b572c1b090.js.map